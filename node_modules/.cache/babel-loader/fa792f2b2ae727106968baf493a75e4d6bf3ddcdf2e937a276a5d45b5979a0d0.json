{"ast":null,"code":"import _objectSpread from \"/Users/hacktheplanet/Documents/GitHub/blog-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { useClerkInstanceContext, useUserContext } from \"./contexts\";\nimport { usePagesOrInfinite, useWithSafeValues } from \"./usePagesOrInfinite\";\nvar useOrganizationList = function useOrganizationList(params) {\n  var _ref = params || {},\n    userMemberships = _ref.userMemberships,\n    userInvitations = _ref.userInvitations,\n    userSuggestions = _ref.userSuggestions;\n  var userMembershipsSafeValues = useWithSafeValues(userMemberships, {\n    initialPage: 1,\n    pageSize: 10,\n    keepPreviousData: false,\n    infinite: false\n  });\n  var userInvitationsSafeValues = useWithSafeValues(userInvitations, {\n    initialPage: 1,\n    pageSize: 10,\n    status: \"pending\",\n    keepPreviousData: false,\n    infinite: false\n  });\n  var userSuggestionsSafeValues = useWithSafeValues(userSuggestions, {\n    initialPage: 1,\n    pageSize: 10,\n    status: \"pending\",\n    keepPreviousData: false,\n    infinite: false\n  });\n  var clerk = useClerkInstanceContext();\n  var user = useUserContext();\n  var userMembershipsParams = typeof userMemberships === \"undefined\" ? void 0 : {\n    initialPage: userMembershipsSafeValues.initialPage,\n    pageSize: userMembershipsSafeValues.pageSize\n  };\n  var userInvitationsParams = typeof userInvitations === \"undefined\" ? void 0 : {\n    initialPage: userInvitationsSafeValues.initialPage,\n    pageSize: userInvitationsSafeValues.pageSize,\n    status: userInvitationsSafeValues.status\n  };\n  var userSuggestionsParams = typeof userSuggestions === \"undefined\" ? void 0 : {\n    initialPage: userSuggestionsSafeValues.initialPage,\n    pageSize: userSuggestionsSafeValues.pageSize,\n    status: userSuggestionsSafeValues.status\n  };\n  var isClerkLoaded = !!(clerk.loaded && user);\n  var memberships = usePagesOrInfinite(_objectSpread(_objectSpread({}, userMembershipsParams), {}, {\n    paginated: true\n  }), user === null || user === void 0 ? void 0 : user.getOrganizationMemberships, {\n    keepPreviousData: userMembershipsSafeValues.keepPreviousData,\n    infinite: userMembershipsSafeValues.infinite,\n    enabled: !!userMembershipsParams\n  }, {\n    type: \"userMemberships\",\n    userId: user === null || user === void 0 ? void 0 : user.id\n  });\n  var invitations = usePagesOrInfinite(_objectSpread({}, userInvitationsParams), user === null || user === void 0 ? void 0 : user.getOrganizationInvitations, {\n    keepPreviousData: userInvitationsSafeValues.keepPreviousData,\n    infinite: userInvitationsSafeValues.infinite,\n    enabled: !!userInvitationsParams\n  }, {\n    type: \"userInvitations\",\n    userId: user === null || user === void 0 ? void 0 : user.id\n  });\n  var suggestions = usePagesOrInfinite(_objectSpread({}, userSuggestionsParams), user === null || user === void 0 ? void 0 : user.getOrganizationSuggestions, {\n    keepPreviousData: userSuggestionsSafeValues.keepPreviousData,\n    infinite: userSuggestionsSafeValues.infinite,\n    enabled: !!userSuggestionsParams\n  }, {\n    type: \"userSuggestions\",\n    userId: user === null || user === void 0 ? void 0 : user.id\n  });\n  if (!isClerkLoaded) {\n    return {\n      isLoaded: false,\n      organizationList: void 0,\n      createOrganization: void 0,\n      setActive: void 0,\n      userMemberships: {\n        data: void 0,\n        count: void 0,\n        isLoading: false,\n        isFetching: false,\n        isError: false,\n        page: void 0,\n        pageCount: void 0,\n        fetchPage: void 0,\n        fetchNext: void 0,\n        fetchPrevious: void 0,\n        hasNextPage: false,\n        hasPreviousPage: false,\n        unstable__mutate: void 0\n      },\n      userInvitations: {\n        data: void 0,\n        count: void 0,\n        isLoading: false,\n        isFetching: false,\n        isError: false,\n        page: void 0,\n        pageCount: void 0,\n        fetchPage: void 0,\n        fetchNext: void 0,\n        fetchPrevious: void 0,\n        hasNextPage: false,\n        hasPreviousPage: false,\n        unstable__mutate: void 0\n      },\n      userSuggestions: {\n        data: void 0,\n        count: void 0,\n        isLoading: false,\n        isFetching: false,\n        isError: false,\n        page: void 0,\n        pageCount: void 0,\n        fetchPage: void 0,\n        fetchNext: void 0,\n        fetchPrevious: void 0,\n        hasNextPage: false,\n        hasPreviousPage: false,\n        unstable__mutate: void 0\n      }\n    };\n  }\n  return {\n    isLoaded: isClerkLoaded,\n    organizationList: createOrganizationList(user.organizationMemberships),\n    setActive: clerk.setActive,\n    createOrganization: clerk.createOrganization,\n    userMemberships: memberships,\n    userInvitations: invitations,\n    userSuggestions: suggestions\n  };\n};\nfunction createOrganizationList(organizationMemberships) {\n  return organizationMemberships.map(function (organizationMembership) {\n    return {\n      membership: organizationMembership,\n      organization: organizationMembership.organization\n    };\n  });\n}\nexport { useOrganizationList };","map":{"version":3,"names":["useClerkInstanceContext","useUserContext","usePagesOrInfinite","useWithSafeValues","useOrganizationList","params","_ref","userMemberships","userInvitations","userSuggestions","userMembershipsSafeValues","initialPage","pageSize","keepPreviousData","infinite","userInvitationsSafeValues","status","userSuggestionsSafeValues","clerk","user","userMembershipsParams","userInvitationsParams","userSuggestionsParams","isClerkLoaded","loaded","memberships","_objectSpread","paginated","getOrganizationMemberships","enabled","type","userId","id","invitations","getOrganizationInvitations","suggestions","getOrganizationSuggestions","isLoaded","organizationList","createOrganization","setActive","data","count","isLoading","isFetching","isError","page","pageCount","fetchPage","fetchNext","fetchPrevious","hasNextPage","hasPreviousPage","unstable__mutate","createOrganizationList","organizationMemberships","map","organizationMembership","membership","organization"],"sources":["/Users/hacktheplanet/Documents/GitHub/blog-frontend/node_modules/@clerk/shared/src/hooks/useOrganizationList.tsx"],"sourcesContent":["import type {\n  ClerkPaginatedResponse,\n  CreateOrganizationParams,\n  GetUserOrganizationInvitationsParams,\n  GetUserOrganizationMembershipParams,\n  GetUserOrganizationSuggestionsParams,\n  OrganizationMembershipResource,\n  OrganizationResource,\n  OrganizationSuggestionResource,\n  SetActive,\n  UserOrganizationInvitationResource,\n} from '@clerk/types';\n\nimport { useClerkInstanceContext, useUserContext } from './contexts';\nimport type { PaginatedResources, PaginatedResourcesWithDefault } from './types';\nimport { usePagesOrInfinite, useWithSafeValues } from './usePagesOrInfinite';\n\ntype UseOrganizationListParams = {\n  userMemberships?:\n    | true\n    | (GetUserOrganizationMembershipParams & {\n        infinite?: boolean;\n        keepPreviousData?: boolean;\n      });\n  userInvitations?:\n    | true\n    | (GetUserOrganizationInvitationsParams & {\n        infinite?: boolean;\n        keepPreviousData?: boolean;\n      });\n  userSuggestions?:\n    | true\n    | (GetUserOrganizationSuggestionsParams & {\n        infinite?: boolean;\n        keepPreviousData?: boolean;\n      });\n};\n\ntype OrganizationList = ReturnType<typeof createOrganizationList>;\n\ntype UseOrganizationListReturn =\n  | {\n      isLoaded: false;\n      /**\n       * @deprecated Use userMemberships instead\n       */\n      organizationList: undefined;\n      createOrganization: undefined;\n      setActive: undefined;\n      userMemberships: PaginatedResourcesWithDefault<OrganizationMembershipResource>;\n      userInvitations: PaginatedResourcesWithDefault<UserOrganizationInvitationResource>;\n      userSuggestions: PaginatedResourcesWithDefault<OrganizationSuggestionResource>;\n    }\n  | {\n      isLoaded: boolean;\n      /**\n       * @deprecated Use userMemberships instead\n       */\n      organizationList: OrganizationList;\n      createOrganization: (params: CreateOrganizationParams) => Promise<OrganizationResource>;\n      setActive: SetActive;\n      userMemberships: PaginatedResources<OrganizationMembershipResource>;\n      userInvitations: PaginatedResources<UserOrganizationInvitationResource>;\n      userSuggestions: PaginatedResources<OrganizationSuggestionResource>;\n    };\n\ntype UseOrganizationList = (params?: UseOrganizationListParams) => UseOrganizationListReturn;\n\nexport const useOrganizationList: UseOrganizationList = params => {\n  const { userMemberships, userInvitations, userSuggestions } = params || {};\n\n  const userMembershipsSafeValues = useWithSafeValues(userMemberships, {\n    initialPage: 1,\n    pageSize: 10,\n    keepPreviousData: false,\n    infinite: false,\n  });\n\n  const userInvitationsSafeValues = useWithSafeValues(userInvitations, {\n    initialPage: 1,\n    pageSize: 10,\n    status: 'pending',\n    keepPreviousData: false,\n    infinite: false,\n  });\n\n  const userSuggestionsSafeValues = useWithSafeValues(userSuggestions, {\n    initialPage: 1,\n    pageSize: 10,\n    status: 'pending',\n    keepPreviousData: false,\n    infinite: false,\n  });\n\n  const clerk = useClerkInstanceContext();\n  const user = useUserContext();\n\n  const userMembershipsParams =\n    typeof userMemberships === 'undefined'\n      ? undefined\n      : {\n          initialPage: userMembershipsSafeValues.initialPage,\n          pageSize: userMembershipsSafeValues.pageSize,\n        };\n\n  const userInvitationsParams =\n    typeof userInvitations === 'undefined'\n      ? undefined\n      : {\n          initialPage: userInvitationsSafeValues.initialPage,\n          pageSize: userInvitationsSafeValues.pageSize,\n          status: userInvitationsSafeValues.status,\n        };\n\n  const userSuggestionsParams =\n    typeof userSuggestions === 'undefined'\n      ? undefined\n      : {\n          initialPage: userSuggestionsSafeValues.initialPage,\n          pageSize: userSuggestionsSafeValues.pageSize,\n          status: userSuggestionsSafeValues.status,\n        };\n\n  const isClerkLoaded = !!(clerk.loaded && user);\n\n  const memberships = usePagesOrInfinite<\n    GetUserOrganizationMembershipParams,\n    ClerkPaginatedResponse<OrganizationMembershipResource>\n  >(\n    {\n      ...userMembershipsParams,\n      paginated: true,\n    } as any,\n    user?.getOrganizationMemberships as unknown as any,\n    {\n      keepPreviousData: userMembershipsSafeValues.keepPreviousData,\n      infinite: userMembershipsSafeValues.infinite,\n      enabled: !!userMembershipsParams,\n    },\n    {\n      type: 'userMemberships',\n      userId: user?.id,\n    },\n  );\n\n  const invitations = usePagesOrInfinite<\n    GetUserOrganizationInvitationsParams,\n    ClerkPaginatedResponse<UserOrganizationInvitationResource>\n  >(\n    {\n      ...userInvitationsParams,\n    },\n    user?.getOrganizationInvitations,\n    {\n      keepPreviousData: userInvitationsSafeValues.keepPreviousData,\n      infinite: userInvitationsSafeValues.infinite,\n      enabled: !!userInvitationsParams,\n    },\n    {\n      type: 'userInvitations',\n      userId: user?.id,\n    },\n  );\n\n  const suggestions = usePagesOrInfinite<\n    GetUserOrganizationSuggestionsParams,\n    ClerkPaginatedResponse<OrganizationSuggestionResource>\n  >(\n    {\n      ...userSuggestionsParams,\n    },\n    user?.getOrganizationSuggestions,\n    {\n      keepPreviousData: userSuggestionsSafeValues.keepPreviousData,\n      infinite: userSuggestionsSafeValues.infinite,\n      enabled: !!userSuggestionsParams,\n    },\n    {\n      type: 'userSuggestions',\n      userId: user?.id,\n    },\n  );\n\n  // TODO: Properly check for SSR user values\n  if (!isClerkLoaded) {\n    return {\n      isLoaded: false,\n      organizationList: undefined,\n      createOrganization: undefined,\n      setActive: undefined,\n      userMemberships: {\n        data: undefined,\n        count: undefined,\n        isLoading: false,\n        isFetching: false,\n        isError: false,\n        page: undefined,\n        pageCount: undefined,\n        fetchPage: undefined,\n        fetchNext: undefined,\n        fetchPrevious: undefined,\n        hasNextPage: false,\n        hasPreviousPage: false,\n        unstable__mutate: undefined,\n      },\n      userInvitations: {\n        data: undefined,\n        count: undefined,\n        isLoading: false,\n        isFetching: false,\n        isError: false,\n        page: undefined,\n        pageCount: undefined,\n        fetchPage: undefined,\n        fetchNext: undefined,\n        fetchPrevious: undefined,\n        hasNextPage: false,\n        hasPreviousPage: false,\n        unstable__mutate: undefined,\n      },\n      userSuggestions: {\n        data: undefined,\n        count: undefined,\n        isLoading: false,\n        isFetching: false,\n        isError: false,\n        page: undefined,\n        pageCount: undefined,\n        fetchPage: undefined,\n        fetchNext: undefined,\n        fetchPrevious: undefined,\n        hasNextPage: false,\n        hasPreviousPage: false,\n        unstable__mutate: undefined,\n      },\n    };\n  }\n\n  return {\n    isLoaded: isClerkLoaded,\n    organizationList: createOrganizationList(user.organizationMemberships),\n    setActive: clerk.setActive,\n    createOrganization: clerk.createOrganization,\n    userMemberships: memberships,\n    userInvitations: invitations,\n    userSuggestions: suggestions,\n  };\n};\n\nfunction createOrganizationList(organizationMemberships: OrganizationMembershipResource[]) {\n  return organizationMemberships.map(organizationMembership => ({\n    membership: organizationMembership,\n    organization: organizationMembership.organization,\n  }));\n}\n"],"mappings":";AAaA,SAASA,uBAAA,EAAyBC,cAAA,QAAsB;AAExD,SAASC,kBAAA,EAAoBC,iBAAA,QAAyB;AAqD/C,IAAMC,mBAAA,GAA2C,SAA3CA,oBAA2CC,MAAA,EAAU;EAChE,IAAAC,IAAA,GAA8DD,MAAA,IAAU,CAAC;IAAjEE,eAAA,GAAAD,IAAA,CAAAC,eAAA;IAAiBC,eAAA,GAAAF,IAAA,CAAAE,eAAA;IAAiBC,eAAA,GAAAH,IAAA,CAAAG,eAAA;EAE1C,IAAMC,yBAAA,GAA4BP,iBAAA,CAAkBI,eAAA,EAAiB;IACnEI,WAAA,EAAa;IACbC,QAAA,EAAU;IACVC,gBAAA,EAAkB;IAClBC,QAAA,EAAU;EACZ,CAAC;EAED,IAAMC,yBAAA,GAA4BZ,iBAAA,CAAkBK,eAAA,EAAiB;IACnEG,WAAA,EAAa;IACbC,QAAA,EAAU;IACVI,MAAA,EAAQ;IACRH,gBAAA,EAAkB;IAClBC,QAAA,EAAU;EACZ,CAAC;EAED,IAAMG,yBAAA,GAA4Bd,iBAAA,CAAkBM,eAAA,EAAiB;IACnEE,WAAA,EAAa;IACbC,QAAA,EAAU;IACVI,MAAA,EAAQ;IACRH,gBAAA,EAAkB;IAClBC,QAAA,EAAU;EACZ,CAAC;EAED,IAAMI,KAAA,GAAQlB,uBAAA,CAAwB;EACtC,IAAMmB,IAAA,GAAOlB,cAAA,CAAe;EAE5B,IAAMmB,qBAAA,GACJ,OAAOb,eAAA,KAAoB,cACvB,SACA;IACEI,WAAA,EAAaD,yBAAA,CAA0BC,WAAA;IACvCC,QAAA,EAAUF,yBAAA,CAA0BE;EACtC;EAEN,IAAMS,qBAAA,GACJ,OAAOb,eAAA,KAAoB,cACvB,SACA;IACEG,WAAA,EAAaI,yBAAA,CAA0BJ,WAAA;IACvCC,QAAA,EAAUG,yBAAA,CAA0BH,QAAA;IACpCI,MAAA,EAAQD,yBAAA,CAA0BC;EACpC;EAEN,IAAMM,qBAAA,GACJ,OAAOb,eAAA,KAAoB,cACvB,SACA;IACEE,WAAA,EAAaM,yBAAA,CAA0BN,WAAA;IACvCC,QAAA,EAAUK,yBAAA,CAA0BL,QAAA;IACpCI,MAAA,EAAQC,yBAAA,CAA0BD;EACpC;EAEN,IAAMO,aAAA,GAAgB,CAAC,EAAEL,KAAA,CAAMM,MAAA,IAAUL,IAAA;EAEzC,IAAMM,WAAA,GAAcvB,kBAAA,CAAAwB,aAAA,CAAAA,aAAA,KAKbN,qBAAA;IACHO,SAAA,EAAW;EAAA,IAEbR,IAAA,aAAAA,IAAA,uBAAAA,IAAA,CAAMS,0BAAA,EACN;IACEf,gBAAA,EAAkBH,yBAAA,CAA0BG,gBAAA;IAC5CC,QAAA,EAAUJ,yBAAA,CAA0BI,QAAA;IACpCe,OAAA,EAAS,CAAC,CAACT;EACb,GACA;IACEU,IAAA,EAAM;IACNC,MAAA,EAAQZ,IAAA,aAAAA,IAAA,uBAAAA,IAAA,CAAMa;EAChB,CACF;EAEA,IAAMC,WAAA,GAAc/B,kBAAA,CAAAwB,aAAA,KAKbL,qBAAA,GAELF,IAAA,aAAAA,IAAA,uBAAAA,IAAA,CAAMe,0BAAA,EACN;IACErB,gBAAA,EAAkBE,yBAAA,CAA0BF,gBAAA;IAC5CC,QAAA,EAAUC,yBAAA,CAA0BD,QAAA;IACpCe,OAAA,EAAS,CAAC,CAACR;EACb,GACA;IACES,IAAA,EAAM;IACNC,MAAA,EAAQZ,IAAA,aAAAA,IAAA,uBAAAA,IAAA,CAAMa;EAChB,CACF;EAEA,IAAMG,WAAA,GAAcjC,kBAAA,CAAAwB,aAAA,KAKbJ,qBAAA,GAELH,IAAA,aAAAA,IAAA,uBAAAA,IAAA,CAAMiB,0BAAA,EACN;IACEvB,gBAAA,EAAkBI,yBAAA,CAA0BJ,gBAAA;IAC5CC,QAAA,EAAUG,yBAAA,CAA0BH,QAAA;IACpCe,OAAA,EAAS,CAAC,CAACP;EACb,GACA;IACEQ,IAAA,EAAM;IACNC,MAAA,EAAQZ,IAAA,aAAAA,IAAA,uBAAAA,IAAA,CAAMa;EAChB,CACF;EAGA,IAAI,CAACT,aAAA,EAAe;IAClB,OAAO;MACLc,QAAA,EAAU;MACVC,gBAAA,EAAkB;MAClBC,kBAAA,EAAoB;MACpBC,SAAA,EAAW;MACXjC,eAAA,EAAiB;QACfkC,IAAA,EAAM;QACNC,KAAA,EAAO;QACPC,SAAA,EAAW;QACXC,UAAA,EAAY;QACZC,OAAA,EAAS;QACTC,IAAA,EAAM;QACNC,SAAA,EAAW;QACXC,SAAA,EAAW;QACXC,SAAA,EAAW;QACXC,aAAA,EAAe;QACfC,WAAA,EAAa;QACbC,eAAA,EAAiB;QACjBC,gBAAA,EAAkB;MACpB;MACA7C,eAAA,EAAiB;QACfiC,IAAA,EAAM;QACNC,KAAA,EAAO;QACPC,SAAA,EAAW;QACXC,UAAA,EAAY;QACZC,OAAA,EAAS;QACTC,IAAA,EAAM;QACNC,SAAA,EAAW;QACXC,SAAA,EAAW;QACXC,SAAA,EAAW;QACXC,aAAA,EAAe;QACfC,WAAA,EAAa;QACbC,eAAA,EAAiB;QACjBC,gBAAA,EAAkB;MACpB;MACA5C,eAAA,EAAiB;QACfgC,IAAA,EAAM;QACNC,KAAA,EAAO;QACPC,SAAA,EAAW;QACXC,UAAA,EAAY;QACZC,OAAA,EAAS;QACTC,IAAA,EAAM;QACNC,SAAA,EAAW;QACXC,SAAA,EAAW;QACXC,SAAA,EAAW;QACXC,aAAA,EAAe;QACfC,WAAA,EAAa;QACbC,eAAA,EAAiB;QACjBC,gBAAA,EAAkB;MACpB;IACF;EACF;EAEA,OAAO;IACLhB,QAAA,EAAUd,aAAA;IACVe,gBAAA,EAAkBgB,sBAAA,CAAuBnC,IAAA,CAAKoC,uBAAuB;IACrEf,SAAA,EAAWtB,KAAA,CAAMsB,SAAA;IACjBD,kBAAA,EAAoBrB,KAAA,CAAMqB,kBAAA;IAC1BhC,eAAA,EAAiBkB,WAAA;IACjBjB,eAAA,EAAiByB,WAAA;IACjBxB,eAAA,EAAiB0B;EACnB;AACF;AAEA,SAASmB,uBAAuBC,uBAAA,EAA2D;EACzF,OAAOA,uBAAA,CAAwBC,GAAA,CAAI,UAAAC,sBAAA;IAAA,OAA2B;MAC5DC,UAAA,EAAYD,sBAAA;MACZE,YAAA,EAAcF,sBAAA,CAAuBE;IACvC;EAAA,CAAE;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}