{"ast":null,"code":"function isValidProxyUrl(key) {\n  if (!key) {\n    return true;\n  }\n  return isHttpOrHttps(key) || isProxyUrlRelative(key);\n}\nfunction isHttpOrHttps(key) {\n  return /^http(s)?:\\/\\//.test(key || \"\");\n}\nfunction isProxyUrlRelative(key) {\n  return key.startsWith(\"/\");\n}\nfunction proxyUrlToAbsoluteURL(url) {\n  if (!url) {\n    return \"\";\n  }\n  return isProxyUrlRelative(url) ? new URL(url, window.location.origin).toString() : url;\n}\nfunction getRequestUrl(_ref) {\n  var _ref2, _ref3, _headers$get, _split$, _ref4, _headers$get2;\n  var request = _ref.request,\n    relativePath = _ref.relativePath;\n  var headers = request.headers,\n    initialUrl = request.url;\n  var url = new URL(initialUrl);\n  var host = (_ref2 = (_ref3 = (_headers$get = headers.get(\"X-Forwarded-Host\")) !== null && _headers$get !== void 0 ? _headers$get : headers.get(\"host\")) !== null && _ref3 !== void 0 ? _ref3 : headers[\"host\"]) !== null && _ref2 !== void 0 ? _ref2 : url.host;\n  var protocol = (_split$ = (_ref4 = (_headers$get2 = headers.get(\"X-Forwarded-Proto\")) !== null && _headers$get2 !== void 0 ? _headers$get2 : headers[\"X-Forwarded-Proto\"]) === null || _ref4 === void 0 ? void 0 : _ref4.split(\",\")[0]) !== null && _split$ !== void 0 ? _split$ : url.protocol;\n  protocol = protocol.replace(/[:/]/, \"\");\n  return new URL(relativePath || url.pathname, \"\".concat(protocol, \"://\").concat(host));\n}\nexport { getRequestUrl, isHttpOrHttps, isProxyUrlRelative, isValidProxyUrl, proxyUrlToAbsoluteURL };","map":{"version":3,"names":["isValidProxyUrl","key","isHttpOrHttps","isProxyUrlRelative","test","startsWith","proxyUrlToAbsoluteURL","url","URL","window","location","origin","toString","getRequestUrl","_ref","_ref2","_ref3","_headers$get","_split$","_ref4","_headers$get2","request","relativePath","headers","initialUrl","host","get","protocol","split","replace","pathname","concat"],"sources":["/Users/hacktheplanet/Documents/GitHub/blog-frontend/node_modules/@clerk/shared/src/utils/proxy.ts"],"sourcesContent":["export function isValidProxyUrl(key: string | undefined) {\n  if (!key) {\n    return true;\n  }\n\n  return isHttpOrHttps(key) || isProxyUrlRelative(key);\n}\n\nexport function isHttpOrHttps(key: string | undefined) {\n  return /^http(s)?:\\/\\//.test(key || '');\n}\n\nexport function isProxyUrlRelative(key: string) {\n  return key.startsWith('/');\n}\n\nexport function proxyUrlToAbsoluteURL(url: string | undefined): string {\n  if (!url) {\n    return '';\n  }\n  return isProxyUrlRelative(url) ? new URL(url, window.location.origin).toString() : url;\n}\n\n/**\n * @deprecated Use `buildRequestUrl` from @clerk/backend\n */\nexport function getRequestUrl({ request, relativePath }: { request: Request; relativePath?: string }): URL {\n  const { headers, url: initialUrl } = request;\n  const url = new URL(initialUrl);\n  const host = headers.get('X-Forwarded-Host') ?? headers.get('host') ?? (headers as any)['host'] ?? url.host;\n\n  // X-Forwarded-Proto could be 'https, http'\n  let protocol =\n    (headers.get('X-Forwarded-Proto') ?? (headers as any)['X-Forwarded-Proto'])?.split(',')[0] ?? url.protocol;\n  protocol = protocol.replace(/[:/]/, '');\n\n  return new URL(relativePath || url.pathname, `${protocol}://${host}`);\n}\n"],"mappings":"AAAO,SAASA,gBAAgBC,GAAA,EAAyB;EACvD,IAAI,CAACA,GAAA,EAAK;IACR,OAAO;EACT;EAEA,OAAOC,aAAA,CAAcD,GAAG,KAAKE,kBAAA,CAAmBF,GAAG;AACrD;AAEO,SAASC,cAAcD,GAAA,EAAyB;EACrD,OAAO,iBAAiBG,IAAA,CAAKH,GAAA,IAAO,EAAE;AACxC;AAEO,SAASE,mBAAmBF,GAAA,EAAa;EAC9C,OAAOA,GAAA,CAAII,UAAA,CAAW,GAAG;AAC3B;AAEO,SAASC,sBAAsBC,GAAA,EAAiC;EACrE,IAAI,CAACA,GAAA,EAAK;IACR,OAAO;EACT;EACA,OAAOJ,kBAAA,CAAmBI,GAAG,IAAI,IAAIC,GAAA,CAAID,GAAA,EAAKE,MAAA,CAAOC,QAAA,CAASC,MAAM,EAAEC,QAAA,CAAS,IAAIL,GAAA;AACrF;AAKO,SAASM,cAAAC,IAAA,EAA2F;EAAA,IAAAC,KAAA,EAAAC,KAAA,EAAAC,YAAA,EAAAC,OAAA,EAAAC,KAAA,EAAAC,aAAA;EAAA,IAA3EC,OAAA,GAAAP,IAAA,CAAAO,OAAA;IAASC,YAAA,GAAAR,IAAA,CAAAQ,YAAA;EACvC,IAAQC,OAAA,GAA6BF,OAAA,CAA7BE,OAAA;IAAcC,UAAA,GAAeH,OAAA,CAApBd,GAAA;EACjB,IAAMA,GAAA,GAAM,IAAIC,GAAA,CAAIgB,UAAU;EAC9B,IAAMC,IAAA,IAAAV,KAAA,IAAAC,KAAA,IAAAC,YAAA,GAAOM,OAAA,CAAQG,GAAA,CAAI,kBAAkB,eAAAT,YAAA,cAAAA,YAAA,GAAKM,OAAA,CAAQG,GAAA,CAAI,MAAM,eAAAV,KAAA,cAAAA,KAAA,GAAMO,OAAA,CAAgB,MAAM,eAAAR,KAAA,cAAAA,KAAA,GAAKR,GAAA,CAAIkB,IAAA;EAGvG,IAAIE,QAAA,IAAAT,OAAA,IAAAC,KAAA,IAAAC,aAAA,GACDG,OAAA,CAAQG,GAAA,CAAI,mBAAmB,eAAAN,aAAA,cAAAA,aAAA,GAAMG,OAAA,CAAgB,mBAAmB,eAAAJ,KAAA,uBADvEA,KAAA,CAC2ES,KAAA,CAAM,GAAG,EAAE,CAAC,eAAAV,OAAA,cAAAA,OAAA,GAAKX,GAAA,CAAIoB,QAAA;EACpGA,QAAA,GAAWA,QAAA,CAASE,OAAA,CAAQ,QAAQ,EAAE;EAEtC,OAAO,IAAIrB,GAAA,CAAIc,YAAA,IAAgBf,GAAA,CAAIuB,QAAA,KAAAC,MAAA,CAAaJ,QAAA,SAAAI,MAAA,CAAcN,IAAA,CAAM;AACtE"},"metadata":{},"sourceType":"module","externalDependencies":[]}